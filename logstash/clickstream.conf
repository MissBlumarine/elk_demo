input { 
  file {
    path => "home/svetlana/elk_homework/elk_demo/elk_demo/weblog.csv"
    type => "log"
    start_position => "beginning"
  }
}

filter {# Transformation goes here
  csv {# define columns present in weblog
      columns =>[IP, Time, URL, Status]
      separator =>","
 }
 	mutate {
		split => ["Time",":"]
		add_field =>   {
            "Date" => "%{[Time][0]}"
        }
	}
}

output {# output in local elasticsearch cluster
  elasticsearch {
    hosts => ["localhost:9200"]
    index => "logs_2"
    document_id => "%{id}"
  }
  stdout { codec => rubydebug }
}